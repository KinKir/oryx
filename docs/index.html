
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-05-25
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Oryx &#x2013; End Users</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/united/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="../css/bootswatch.css" rel="stylesheet" />
		<link href="../css/reflow-skin.css" rel="stylesheet" />


		<link href="../css/lightbox.css" rel="stylesheet" />

		<link href="../css/site.css" rel="stylesheet" />
		<link href="../css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-docs-index project-oryx" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">Oryx 2</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="../index.html" title="Overview">Overview</a></li>
							<li class="active"><a href="" title="Documentation">Documentation</a></li>
							<li ><a href="../apidocs/index.html" title="Javadoc">Javadoc</a></li>
							<li ><a href="https://github.com/OryxProject/oryx/releases" title="Download" class="externalLink">Download</a></li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="../" id="bannerLeft"><h1>Oryx 2</h1></a>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li class="projectVersion version-date">Version: 2.0.0-alpha-2</li>
				<li class="divider">|</li>
				<li class="publishDate version-date">Last Published: 2015-05-25</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="page-header">
 <h1 id="end_users">End Users</h1>
</div> 
<div class="section"> 
 <h2 id="Running">Running</h2> 
 <p><i>Note: You must have set up and configured your cluster as shown in the Administrator section below.</i></p> 
 <p>Download the <a class="externalLink" href="https://github.com/OryxProject/oryx/releases">latest release</a> of the Oryx Batch, Speed and Serving Layer, both <tt>.jar</tt> files and <tt>.sh</tt> scripts. Alternatively, build them from source and obtain the latest scripts from <a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/deploy/bin">deploy/bin/</a>.</p> 
 <p>Copy binaries and scripts to machines that are part of the Hadoop cluster. They may be deployed on different machines, or on one for purposes of testing. The Speed and Batch Layers should run on at most one machine, each. The Serving Layer can run on many.</p> 
 <p>Create a configuration file for your application. You may start with the example in <a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/app/conf/als-example.conf">conf/als-example.conf</a>. Modify host names, ports and directories. In particular, choose data and model directories on HDFS that exist and will be accessible to the user running Oryx binaries.</p> 
 <p>Copy this config file as <tt>oryx.conf</tt> to the same directory as binaries and script on each machine.</p> 
 <p>Run the three Layers with:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>./oryx-run.sh batch
./oryx-run.sh speed
./oryx-run.sh serving
</pre> 
  </div> 
 </div> 
 <p>(<tt>--layer-jar your-layer.jar</tt> and <tt>--conf your-config.conf</tt> can be used to specify an alternative location of the layer <tt>.jar</tt> and/or <tt>.conf</tt> file.)</p> 
 <p>These need not be on the same machine, but may be (if configuration specifies different ports for the Batch and Speed Layer Spark web UI, and the Serving Layer API port). The Serving Layer may be run on several machines.</p> 
 <p>You can see, for example, the Batch Layer Spark UI running on port 4040 of the machine on which you started it (unless your configuration changed this). A simple web-based console for the Serving Layer is likewise available on port 8080 by default.</p> 
 <p>That’s all!</p> 
 <div class="section"> 
  <h3 id="Trying_the_ALS_Example">Trying the ALS Example</h3> 
  <p>If you’ve used the configuration above, you are running an instance of the ALS-based recommender application.</p> 
  <p>Obtain the <a class="externalLink" href="http://grouplens.org/datasets/movielens/">GroupLens 100K</a> data set and find the <tt>u.data</tt> file within. This needs to be converted to csv:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>tr '\t' ',' &lt; u.data &gt; data.csv
</pre> 
   </div> 
  </div> 
  <p>Push the input to a Serving Layer, with a local command line tool like <tt>curl</tt>:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>wget --quiet --post-file data.csv --output-document - \
  --header &quot;Content-Type: text/csv&quot; \
  http://your-serving-layer:8080/ingest
</pre> 
   </div> 
  </div> 
  <p>If you are tailing the input topic, you should see a large amount of CSV data flow to the topic:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>196,242,3.0,881250949186
196,242,3.0,881250949
186,302,3.0,891717742
22,377,1.0,878887116
244,51,2.0,880606923
166,346,1.0,886397596
298,474,4.0,884182806
...
</pre> 
   </div> 
  </div> 
  <p>Soon, you should also see the Batch Layer trigger a new computation. The example configuration starts one every 5 minutes.</p> 
  <p>The data is first written to HDFS. The example configuration has it written to directories under <tt>hdfs:///user/example/Oryx/data/</tt>. Within are directories named by timestamp, each containing Hadoop <tt>part-r-*</tt> files, which contain the input as <tt>SequenceFile</tt>s of <tt>Text</tt>. Although not pure text, printing them should yield some recognizable data because it is in fact text.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>SEQorg.apache.hadoop.io.Textorg.apache.hadoop.io.Text����^�]�XسN�22,377,1.0,87888711662...
</pre> 
   </div> 
  </div> 
  <p>A model computation then begins. This should show as a number of new distributed jobs the Batch Layer. Its Spark UI is started at <tt>http://your-batch-layer:4040</tt> in the example configuration.</p> 
  <p>Soon the model will complete, and it will be persisted as a combination of PMML and supporting data files in a subdirectory of <tt>hdfs:///user/example/Oryx/model/</tt>. For example, the <tt>model.pmml.gz</tt> files are compressed PMML files containing elements like:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;PMML xmlns=&quot;http://www.dmg.org/PMML-4_2&quot; version=&quot;4.2.1&quot;&gt;
    &lt;Header&gt;
        &lt;Application name=&quot;Oryx&quot;/&gt;
        &lt;Timestamp&gt;2014-12-18T04:48:54-0800&lt;/Timestamp&gt;
    &lt;/Header&gt;
    &lt;Extension name=&quot;X&quot; value=&quot;X/&quot;/&gt;
    &lt;Extension name=&quot;Y&quot; value=&quot;Y/&quot;/&gt;
    &lt;Extension name=&quot;features&quot; value=&quot;10&quot;/&gt;
    &lt;Extension name=&quot;lambda&quot; value=&quot;0.001&quot;/&gt;
    &lt;Extension name=&quot;implicit&quot; value=&quot;true&quot;/&gt;
    &lt;Extension name=&quot;alpha&quot; value=&quot;1.0&quot;/&gt;
    &lt;Extension name=&quot;XIDs&quot;&gt;56 168 222 343 397 ...
     ...
</pre> 
   </div> 
  </div> 
  <p>The <tt>X/</tt> and <tt>Y/</tt> subdirectories next to it contain feature vectors, like:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>[56,[0.5746282834154238,-0.08896614131333057,-0.029456222765775263,
  0.6039821219690552,0.1497901814774658,-0.018654312114339863,
  -0.37342063488340266,-0.2370768843521807,1.148260034028485,
  1.0645643656769153]]
[168,[0.8722769882777296,0.4370416943031704,0.27402044461549885,
  -0.031252701117490456,-0.7241385753098256,0.026079081002582338,
  0.42050973702065714,0.27766923396205817,0.6241033215856671,
  -0.48530795198811266]]
...
</pre> 
   </div> 
  </div> 
  <p>If you are tailing the update topic, you should also see these values published to the topic.</p> 
  <p>The Serving Layer will pick this up soon thereafter, and the <tt>/ready</tt> endpoint will return status <tt>200 OK</tt>:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>wget --quiet --output-document - --server-response \
  http://your-serving-layer:8080/ready
...
  HTTP/1.1 200 OK
  Content-Length: 0
  Date: Thu, 18 Dec 2014 13:26:53 GMT
  Server: Oryx
</pre> 
   </div> 
  </div> 
  <div class="source"> 
   <div class="source"> 
    <pre>wget --quiet --output-document -  http://your-serving-layer:8080/recommend/17
...
50,0.7749542842056966
275,0.7373013861581563
258,0.731818692628511
181,0.7049967175706345
127,0.704518989947498
121,0.7014631029793741
15,0.6954683387287907
288,0.6774889711024022
25,0.6663619887033064
285,0.6398968471343595
</pre> 
   </div> 
  </div> 
  <p>Congratulations, it’s a live recommender! When done, all processes can be killed with Ctrl-C safely.</p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="API_Endpoint_Reference">API Endpoint Reference</h2> 
 <p>Oryx bundles several end-to-end applications, including a Serving Layer with REST endpoints.</p> 
 <div class="section"> 
  <h3 id="Collaborative_filtering__Recommendation">Collaborative filtering / Recommendation</h3> 
  <ul> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/Recommend.html"><tt>/recommend</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/RecommendToMany.html"><tt>/recommendToMany</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/RecommendToAnonymous.html"><tt>/recommendToAnonymous</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/Similarity.html"><tt>/similarity</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/SimilarityToItem.html"><tt>/similarityToItem</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/KnownItems.html"><tt>/knownItems</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/Estimate.html"><tt>/estimate</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/EstimateForAnonymous.html"><tt>/estimateForAnonymous</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/Because.html"><tt>/because</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/MostSurprising.html"><tt>/mostSurprising</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/PopularRepresentativeItems.html"><tt>/popularRepresentativeItems</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/MostActiveUsers.html"><tt>/mostActiveUsers</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/MostPopularItems.html"><tt>/mostPopularItems</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/MostActiveUsers.html"><tt>/mostActiveUsers</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/AllItemIDs.html"><tt>/item/allIDs</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/Ready.html"><tt>/ready</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/Preference.html"><tt>/pref</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/als/Ingest.html"><tt>/ingest</tt></a></li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Classification__Regression">Classification / Regression</h3> 
  <ul> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/rdf/Predict.html"><tt>/predict</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/rdf/ClassificationDistribution.html"><tt>/classificationDistribution</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/rdf/Train.html"><tt>/train</tt></a></li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Clustering">Clustering</h3> 
  <ul> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/kmeans/Assign.html"><tt>/assign</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/kmeans/DistanceToNearest.html"><tt>/distanceToNearest</tt></a></li> 
   <li><a class="externalLink" href="http://oryxproject.github.io/oryx/apidocs/com/cloudera/oryx/app/serving/kmeans/Add.html"><tt>/add</tt></a></li> 
  </ul> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Configuration">Configuration</h2> 
 <p>Refer to the default configuration file for a list and explanation of configuration parameters: <a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-common/src/main/resources/reference.conf"><tt>reference.conf</tt></a></p> 
 <p>Or see one of the following examples:</p> 
 <ul> 
  <li><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/app/conf/als-example.conf"><tt>app/conf/als-example.conf</tt></a></li> 
  <li><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/app/conf/kmeans-example.conf"><tt>app/conf/kmeans-example.conf</tt></a></li> 
  <li><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/app/conf/rdf-example.conf"><tt>app/conf/rdf-example.conf</tt></a></li> 
 </ul> 
 <h1 id="developers">Developers</h1> 
</div> 
<div class="section"> 
 <h2 id="Building_from_Source">Building from Source</h2> 
 <div class="section"> 
  <h3 id="Requirements">Requirements</h3> 
  <ul> 
   <li><a class="externalLink" href="http://git-scm.com/"><tt>git</tt></a>, or an IDE that supports Git</li> 
   <li><a class="externalLink" href="http://maven.apache.org/">Apache Maven</a> 3.2.1 or later</li> 
   <li><a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java JDK</a> (not just JRE) 7 or later</li> 
  </ul> 
  <p>Some or all of these may already be installed on your development machine.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Building">Building</h3> 
  <p>Clone the repository in your desired local directory and build it:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>git clone https://github.com/OryxProject/oryx.git oryx
cd oryx
mvn -DskipTests package
</pre> 
   </div> 
  </div> 
  <p>This will build the following binaries:</p> 
  <ul> 
   <li>Batch Layer: <tt>deploy/oryx-batch/target/oryx-batch-x.y.z.jar</tt></li> 
   <li>Speed Layer: <tt>deploy/oryx-speed/target/oryx-speed-x.y.z.jar</tt></li> 
   <li>Serving Layer: <tt>deploy/oryx-serving/target/oryx-serving-x.y.z.jar</tt></li> 
  </ul> 
  <p>… where <tt>x.y.z</tt> is the current version string, like <tt>2.0.0</tt>.</p> 
  <p>Note that if you are interested in developing on Oryx, you should probably <a class="externalLink" href="https://help.github.com/articles/fork-a-repo">fork this repository</a> and then work on your own fork, so that you can submit pull requests with changes.</p> 
  <div class="section"> 
   <h4 id="Java_8">Java 8</h4> 
   <p>To configure the build to use Java 8, add <tt>-Pjava8</tt> to build and test commands here.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Platform_Only">Platform Only</h4> 
   <p>The default build includes end-to-end ML applications based on Spark MLlib and other libraries. To build only the lambda tier and ML tier, for use with your own app, disable the <tt>app-tier</tt> profile: <tt>-P!app-tier</tt>. Note that in <tt>bash</tt>, <tt>!</tt> is reserved, so you may need to add <tt>-P\!app-tier</tt>.</p> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Testing">Testing</h3> 
  <p><tt>mvn test</tt> runs all unit tests. <tt>mvn verify</tt> will run all integration tests too, which takes significantly longer.</p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Module_Mapping">Module Mapping</h2> 
 <p>Major modules and their relation to tiers and layers:</p> 
 <table border="0" class="bodyTable table table-striped table-hover"> 
  <thead> 
   <tr class="a"> 
    <th align="right"> </th> 
    <th><i>Serving</i> </th> 
    <th><i>Speed</i> </th> 
    <th><i>Batch</i> </th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr class="b"> 
    <td align="right"><i>Binary</i> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/deploy/oryx-serving"><tt>oryx-serving</tt></a> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/deploy/oryx-speed"><tt>oryx-speed</tt></a> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/deploy/oryx-batch"><tt>oryx-batch</tt></a> </td> 
   </tr> 
   <tr class="a"> 
    <td align="right"><i>App</i> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app-serving"><tt>oryx-app-serving</tt></a> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app-mllib"><tt>oryx-app-mllib</tt></a> <a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app"><tt>oryx-app</tt></a> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app-mllib"><tt>oryx-app-mllib</tt></a> <a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app"><tt>oryx-app</tt></a> </td> 
   </tr> 
   <tr class="b"> 
    <td align="right"><i>ML</i> </td> 
    <td> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-ml"><tt>oryx-ml</tt></a> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-ml"><tt>oryx-ml</tt></a> </td> 
   </tr> 
   <tr class="a"> 
    <td align="right"><i>Lambda</i> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-lambda-serving"><tt>oryx-lambda-serving</tt></a> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-lambda"><tt>oryx-lambda</tt></a> </td> 
    <td><a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-lambda"><tt>oryx-lambda</tt></a> </td> 
   </tr> 
  </tbody> 
 </table> 
 <p>Supporting modules like <a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-common"><tt>oryx-common</tt></a>, <a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app-common"><tt>oryx-app-common</tt></a>, <a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-api"><tt>oryx-api</tt></a>, and <a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app-api"><tt>oryx-app-api</tt></a> are not shown.</p> 
</div> 
<div class="section"> 
 <h2 id="Making_an_Oryx_App">Making an Oryx App</h2> 
 <p>Oryx comes with an “app tier”, implementations of actual Batch, Speed and Serving Layer logic for recommendation, clustering and classification. However, any implementation may be used with Oryx. They can be mixed and matched too. For example, you could reimplement the Batch Layer for ALS-related recommendation and instead supply this alternative implementation while still using the provided ALS Serving and Speed Layers.</p> 
 <div class="section"> 
  <h3 id="Creating_an_App">Creating an App</h3> 
  <p>In each case, creating a custom Batch, Speed or Serving Layer app amounts to implementing one Java interface or Scala trait. These interfaces/traits are found in the <tt>oryx-api</tt> module within the project.</p> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th align="right"> </th> 
     <th align="left">Java </th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td align="right">Batch </td> 
     <td align="left"><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-api/src/main/java/com/cloudera/oryx/api/batch/BatchLayerUpdate.java"><tt>com.cloudera.oryx.api.batch.BatchLayerUpdate</tt></a> </td> 
    </tr> 
    <tr class="a"> 
     <td align="right">Speed </td> 
     <td align="left"><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-api/src/main/java/com/cloudera/oryx/api/speed/SpeedModelManager.java"><tt>com.cloudera.oryx.api.speed.SpeedModelManager</tt></a> </td> 
    </tr> 
    <tr class="b"> 
     <td align="right">Serving </td> 
     <td align="left"><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-api/src/main/java/com/cloudera/oryx/api/serving/ServingModelManager.java"><tt>com.cloudera.oryx.api.serving.ServingModelManager</tt></a> </td> 
    </tr> 
   </tbody> 
  </table> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th align="right"> </th> 
     <th align="left">Scala </th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td align="right">Batch </td> 
     <td align="left"><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-lambda/src/main/java/com/cloudera/oryx/lambda/batch/ScalaBatchLayerUpdateAdapter.java"><tt>com.cloudera.oryx.api.batch.ScalaBatchLayerUpdate</tt></a> </td> 
    </tr> 
    <tr class="a"> 
     <td align="right">Speed </td> 
     <td align="left"><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-api/src/main/scala/com/cloudera/oryx/api/speed/ScalaSpeedModelManager.scala"><tt>com.cloudera.oryx.api.speed.ScalaSpeedModelManager</tt></a> </td> 
    </tr> 
    <tr class="b"> 
     <td align="right">Serving </td> 
     <td align="left"><a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-api/src/main/scala/com/cloudera/oryx/api/serving/ScalaServingModelManager.scala"><tt>com.cloudera.oryx.api.serving.ScalaServingModelManager</tt></a> </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <div class="section"> 
  <h3 id="Building_an_App">Building an App</h3> 
  <p>To access these interfaces/traits in your application, add a dependency on <tt>com.cloudera.oryx:oryx-api</tt>. The scope should be <tt>provided</tt>.</p> 
  <p>In Maven, this would mean adding a dependency like:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;com.cloudera.oryx&lt;/groupId&gt;
    &lt;artifactId&gt;oryx-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
    &lt;version&gt;2.0.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</pre> 
   </div> 
  </div> 
  <p>A minimal skeleton project can be found at <a class="externalLink" href="https://github.com/OryxProject/oryx/tree/master/app/example">example/</a>.</p> 
  <p>Compile your code and create a JAR file containing only your implementation, and any supporting third-party code. With Maven, this happens with <tt>mvn package</tt>.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Customizing_an_Oryx_App">Customizing an Oryx App</h3> 
  <p>When deploying the prepackaged applications that come with Oryx, in some cases, it’s possible to supply additional implementations to customize their behavior. For example, the ALS recommender application exposes a <tt>com.cloudera.oryx.app.als.RescorerProvider</tt> interface. These app-specific API classes are found in module <tt>oryx-app-api</tt>. Implementations of interfaces like these can be compiled, packaged and deployed in the same way described here for stand-alone applications.</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;com.cloudera.oryx&lt;/groupId&gt;
    &lt;artifactId&gt;oryx-app-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
    &lt;version&gt;2.0.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</pre> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Deploying_an_App">Deploying an App</h3> 
  <p>Copy the resulting JAR file – call it <tt>myapp.jar</tt> – to the directory containing the Oryx binary JAR file it will be run with.</p> 
  <p>Change your Oryx <tt>.conf</tt> file to refer to your custom Batch, Speed or Serving implementation class, as appropriate.</p> 
  <p>When running the Batch / Speed / Serving Layers, add <tt>--app-jar myapp.jar</tt> to the <tt>oryx-run.sh</tt> command line.</p> 
  <h1 id="administrators">Administrators</h1> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Cluster_Setup">Cluster Setup</h2> 
 <p>The following are required:</p> 
 <ul> 
  <li>Java 7 or later (JRE only is required)</li> 
  <li>A Hadoop cluster running the following components: 
   <ul> 
    <li>Apache Hadoop 2.6.0 or later</li> 
    <li>Apache Zookeeper 3.4.5 or later</li> 
    <li>Apache Kafka 0.8.2 or later</li> 
    <li>Apache Spark 1.3.0 or later</li> 
   </ul></li> 
 </ul> 
 <p><a class="externalLink" href="http://www.cloudera.com/content/cloudera/en/products-and-services/cdh.html">CDH</a> 5.4.0 and later meet these requirements, although any Hadoop distribution with these components should work fine. While the rest of the instructions will refer to a CDH 5.4.0+ distribution, this is not a requirement.</p> 
 <p>A single-node cluster can be sufficient, although running all of these components on one machine may require a reasonable amount of RAM.</p> 
 <div class="section"> 
  <h3 id="Services">Services</h3> 
  <p>Install and configure the Hadoop cluster normally. The following services need to be enabled:</p> 
  <ul> 
   <li>HDFS</li> 
   <li>YARN</li> 
   <li>Zookeeper</li> 
   <li>Kafka</li> 
   <li>Spark (on YARN)</li> 
  </ul> 
  <p>Note that for CDH, Kafka is available as a parcel from <a class="externalLink" href="http://www.cloudera.com/content/cloudera/en/developers/home/cloudera-labs/apache-kafka.html">Cloudera Labs</a>.</p> 
  <p>Determine the (possibly several) Kafka brokers that are configured in the cluster, under Instances, and note their hosts and port. The port is typically 9092. Same for the Zookeeper servers; the default port here is 2181. Default ports will be used in subsequent examples.</p> 
  <p>Where a Kafka broker or Zookeeper server is called for, you can and should specify a comma-separated list of <tt>host:port</tt> pairs where there are multiple hosts. Example: <tt>your-zk-1:2181,your-zk-2:2181</tt>.</p> 
  <p>Also note whether your Zookeeper instance is using a chroot path. This is simply a path suffixed to the <tt>host:port</tt>, like <tt>your-zk:2181/your-chroot</tt>. It is often <tt>/kafka</tt> if it is set. You can omit this if you are not using a chroot. Note: if you have multiple Zookeeper servers, and a chroot, only add the chroot once, at the end: <tt>your-zk-1:2181,your-zk-2:2181/kafka</tt></p> 
 </div> 
 <div class="section"> 
  <h3 id="Configuring_Kafka">Configuring Kafka</h3> 
  <p>Oryx will use two Kafka topics for data transport. One carries input data to the batch and Speed Layer, and the other carries model updates from there on to the Serving Layer. The default names of these topics are <tt>OryxInput</tt> and <tt>OryxUpdate</tt> respectively. They need to be created before Oryx is started.</p> 
  <p>Each can default to have one partition, but more can be configured if much higher read throughput is needed. Replication factor can be any value, but at least 2 is recommended. Note that the replication factor can’t exceed the number of Kafka brokers in the cluster.</p> 
  <p>You may need to configure the retention time for one or both topics. In particular, it’s typically important to limit the retention time for the update topic, since the Speed and Serving Layer read the entire topic from the start on startup to catch up. This is not as important for the input topic, which is not re-read from the beginning.</p> 
  <p>Setting it to twice the Batch Layer update interval is a good start. For example, to set it to 1 day (24 * 60 * 60 * 1000 = 86400000 ms), set the topic’s <tt>retention.ms</tt> property to 86400000. This is done automatically by the provided <tt>oryx-run.sh kafka-setup</tt> script.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Automated_Configuration">Automated Configuration</h3> 
  <p>The provided <tt>oryx-run.sh</tt> script can be used to print current configuration for Zookeeper, list existing topics in Kafka, and optionally create the configured input and update topics if needed. </p> 
  <p>You will need to create an Oryx configuration file first, which can be cloned from the example at <a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/app/conf/als-example.conf">conf/als-example.conf</a> as a start. At least change the Kafka and Zookeeper configuration, as well as topic names, as desired.</p> 
  <p>With this file as <tt>oryx.conf</tt> and any of the layer JAR files in the same directory, run:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>./oryx-run.sh kafka-setup

Input  ZK:    your-zk:2181
Input  Kafka: your-kafka:9092
Input  topic: OryxInput
Update ZK:    your-zk:2181
Update Kafka: your-kafka:9092
Update topic: OryxUpdate

All available topics:


Input topic OryxInput does not exist. Create it? y
Creating topic OryxInput
Created topic &quot;OryxInput&quot;.
Status of topic OryxInput:
Topic:OryxInput	PartitionCount:1	ReplicationFactor:2	Configs:
	Topic: OryxInput	Partition: 0	Leader: 120	Replicas: 120,121	Isr: 120,121

Update topic OryxUpdate does not exist. Create it? y
Creating topic OryxUpdate
Created topic &quot;OryxUpdate&quot;.
Updated config for topic &quot;OryxUpdate&quot;.
Status of topic OryxUpdate:
Topic:OryxUpdate	PartitionCount:1	ReplicationFactor:2	Configs:retention.ms=86400000
	Topic: OryxUpdate	Partition: 0	Leader: 120	Replicas: 120,121	Isr: 120,121
</pre> 
   </div> 
  </div> 
  <p>To watch messages sent to the input and update topics, to monitor action of the application, try:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>./oryx-run.sh kafka-tail
Input  ZK:    your-zk:2181
Input  Kafka: your-kafka:9092
Input  topic: OryxInput
Update ZK:    your-zk:2181
Update Kafka: your-kafka:9092
Update topic: OryxUpdate

...output...
</pre> 
   </div> 
  </div> 
  <p>Then in another window, you can feed input, such as the <tt>data.csv</tt> example from above, into the input queue to verify it’s working with:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>./oryx-run.sh kafka-input --input-file data.csv
</pre> 
   </div> 
  </div> 
  <p>If all is well, these processes can be terminated. The cluster is ready to run Oryx.</p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Handling_Failure">Handling Failure</h2> 
 <p>Eventually, you’ll want to stop one or more of the Layers running, or restart it. Or maybe a server decides to die. What happens then? What’s the worst that can happen?</p> 
 <div class="section"> 
  <h3 id="Data_Loss">Data Loss</h3> 
  <p>Historical data is saved in HDFS, which should be configured for replication. HDFS ensures data is stored reliably. Kafka is also designed to cope with failure when configured to use replication.</p> 
  <p>That is, there is nothing special to do here in order to ensure that data is never completely lost. It is the job of HDFS and Kafka to always be available and not lose data.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Server_Failure">Server Failure</h3> 
  <p>In general, all three Layer server processes should run continuously, and can and should be restarted immediately if they have to be stopped, or in case of a failure. This can be accomplished with an init script or similar mechanism (not included, yet).</p> 
  <div class="section"> 
   <h4 id="Serving_Layer">Serving Layer</h4> 
   <p>The Serving Layer has no state. On startup, it reads all models and updates available on the update topic. It begins answering queries as soon as any first, valid model is available. For this reason, it’s desirable to limit the retention time for the update topic.</p> 
   <p>The operation of the Serving Layer is not distributed. Each instance is independent, and may stop or start without affecting others.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Speed_Layer">Speed Layer</h4> 
   <p>The Speed Layer also has no state, and also reads all models and updates available on the update topic. It begins producing updates as soon as it has a valid model. It also begins reading from the input topic, and at the moment, always reads from the latest offset.</p> 
   <p>The Speed Layer uses Spark Streaming and Spark for some of its computation. Spark has the responsibility of dealing with failures during computation in the cluster and retrying tasks.</p> 
   <p>Spark Streaming’s Kafka integration can in some cases recover from failure of the receiver that is reading from Kafka. If the entire process dies and is restarted, and <tt>oryx.id</tt> has been set, then reading will be able to resume from the last offset recorded by Kafka. (Otherwise, it will resume reading from the latest offset. This means data that arrived while no Speed Layer was running will not have produced any update.) Also, data that arrives before the Speed Layer has a model is ignored too. It effectively adopts “at most once” semantics.</p> 
   <p>Because the role of the Speed Layer is to provide an approximate, “best effort” update to the last published model, this behavior is generally no problem, and desirable because of its simplicity.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Batch_Layer">Batch Layer</h4> 
   <p>The Batch Layer is the most complex, since it does generate some state:</p> 
   <ul> 
    <li>Historical data, is always persisted to HDFS</li> 
    <li>If the app chooses to, additional state like models can be persisted to HDFS as well as topics</li> 
   </ul> 
   <p>It also is most sensitive to reading data multiple times or not at all, since it is the component that creates the “official” next model.</p> 
   <p>As with the Speed Layer, Spark and Spark Streaming handles many of the failure scenarios during computation. It also manages storing data to HDFS and is responsible for avoiding writing the same data twice.</p> 
   <p>Applications are responsible for recovering their own ‘state’; currently, applications built on the Oryx ML tier write state into unique subdirectories, and will simply produce a new set of state in a new directory when restarted. Previous state, if it exists, will have been completely written or not at all.</p> 
   <p>The Batch Layer also currently adopts the same “at most once” semantics as the Speed Layer. As above, if the entire process dies and is restarted, and <tt>oryx.id</tt> has been set, then reading will be able to resume from the last offset recorded by Kafka, and otherwise, it will resume reading from the latest offset.</p> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Differences_from_Oryx_1">Differences from Oryx 1</h2> 
 <p>Design goals for Oryx 2 were:</p> 
 <ul> 
  <li>Provide a more reusable platform for <a class="externalLink" href="http://lambda-architecture.net/">lambda-architecture</a>-style designs, with batch, speed and serving layers</li> 
  <li>Make each layer usable independently</li> 
  <li>Better support for common machine learning needs</li> 
  <li>Test/train set split and evaluation</li> 
  <li>Parallel model build</li> 
  <li>Hyper-parameter selection</li> 
  <li>Use newer technologies like Spark and Streaming in order to simplify:</li> 
  <li>Remove separate in-core implementations for scale-down</li> 
  <li>Remove custom data transport implementation in favor of <a class="externalLink" href="http://kafka.apache.org/">Apache Kafka</a></li> 
  <li>Use a ‘real’ streaming framework instead of reimplementing a simple one</li> 
  <li>Remove complex MapReduce-based implementations in favor of <a class="externalLink" href="http://spark.apache.org/">Apache Spark</a>-based implementations</li> 
  <li>Support more input (i.e. not just <a class="externalLink" href="http://en.wikipedia.org/wiki/Comma-separated_values">CSV</a>)</li> 
 </ul> 
 <div class="section"> 
  <h3 id="Architecture_Differences">Architecture Differences</h3> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th>Oryx 1 </th> 
     <th>Oryx 2 </th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td>One monolithic “tier” for lambda architecture and apps </td> 
     <td>Three tiers: lambda, ML, apps </td> 
    </tr> 
    <tr class="a"> 
     <td>No app-level extensibility </td> 
     <td>Platform for building other lambda- and ML-based apps </td> 
    </tr> 
    <tr class="b"> 
     <td>Two layers: Computation and Serving </td> 
     <td>Three layers: Batch, Speed and Serving </td> 
    </tr> 
    <tr class="a"> 
     <td>Based on Crunch, MapReduce, HDFS, Tomcat </td> 
     <td>Based on HDFS, YARN, Spark (+ Streaming, MLlib), Kafka, Zookeeper, Tomcat </td> 
    </tr> 
    <tr class="b"> 
     <td>27K lines production code / 4K test </td> 
     <td>10K lines production code / 7.5K test: simpler, better tested </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <div class="section"> 
  <h3 id="Deployment_Differences">Deployment Differences</h3> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th>Oryx 1 </th> 
     <th>Oryx 2 </th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td>Requires Java 6, optionally core Hadoop 2.2+ (including “MR1”) </td> 
     <td>Requires Java 7, core Hadoop 2.5+ (YARN, not “MR1”) Spark 1.3+, Kafka 0.8.2+, Zookeeper 3.4.5+ </td> 
    </tr> 
    <tr class="a"> 
     <td>Supports local, non-Hadoop deployment </td> 
     <td>No non-Hadoop deployment </td> 
    </tr> 
    <tr class="b"> 
     <td>Supports MapReduce-based Hadoop deployment </td> 
     <td>Supports only deployment with core Hadoop, YARN, Spark, Kafka </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <div class="section"> 
  <h3 id="Scale_and_Reliability_Differences">Scale and Reliability Differences</h3> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th>Oryx 1 </th> 
     <th>Oryx 2 </th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td>Memory-efficient </td> 
     <td>Fast, memory-hungry </td> 
    </tr> 
    <tr class="a"> 
     <td>Custom, best-effort data transport between layers </td> 
     <td>Reliable data transport via Kafka </td> 
    </tr> 
    <tr class="b"> 
     <td>Custom MapReduce-based algorithm implementations in Computation Layer </td> 
     <td>Spark Streaming-based batch layer framework and Spark MLlib-based algorithm implementations </td> 
    </tr> 
    <tr class="a"> 
     <td>Custom in-core incremental model update (“speed layer”) </td> 
     <td>Spark Streaming-based distributed model update </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <div class="section"> 
  <h3 id="Migration">Migration</h3> 
  <p>The bad news is that no direct migration is possible between Oryx 1 and Oryx 2; they have very different implementations. However, differences in the user- and developer-facing aspects are by design similar or identical.</p> 
  <div class="section"> 
   <h4 id="REST_API">REST API</h4> 
   <p>Oryx 2 contains the same set of end-to-end ML applications as Oryx 1, and exposes virtually the same REST API, unchanged. The only significant difference is that there is no longer a <tt>/refresh</tt> endpoint, because it is unnecessary.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Configuration">Configuration</h4> 
   <p>Both implementations use a single configuration file parsed by Typesafe Config. The property namespaces are different but there are some similarities. Compare the <a class="externalLink" href="https://github.com/cloudera/oryx/blob/master/common/src/main/resources/reference.conf">Oryx 1 configuration</a> to the <a class="externalLink" href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-common/src/main/resources/reference.conf">Oryx 2 configuration</a> to understand some of the correspondence and difference.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Data_Storage_and_Transport">Data Storage and Transport</h4> 
   <p>In Oryx 1, all data was stored in a series of directories in HDFS. In Oryx 2, data is transported via Kafka (which ultimately stores data in HDFS) and in HDFS as managed by a Spark Streaming process. Although it is still possible to side-load data files via HDFS in Oryx 2, it is not supported and is discouraged, in favor of sending data directly to a Kafka queue.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Data_Formats">Data Formats</h4> 
   <p>In theory, the framework is agnostic to data types and encodings passed between layers. In practice, the provided applications consume the same CSV-encoded data format as Oryx 1.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Deployment">Deployment</h4> 
   <p>The deployment requirements are the most different. Although all layers are still distributed as Java <tt>.jar</tt> binaries, now, a Hadoop cluster is required, including HDFS, YARN, Kafka, Spark, and Zookeeper services. Your environment or cluster must be updated to include these services before you can use Oryx 2.</p> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Troubleshooting">Troubleshooting</h2> 
 <div class="section"> 
  <h3 id="Unsupported_majorminor_version_510">Unsupported major.minor version 51.0</h3> 
  <p>This means you are running Java 6 somewhere. Oryx 2 requires Java 7 or later.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Initial_job_has_not_accepted_any_resources">Initial job has not accepted any resources</h3> 
  <p>The error usually means that your YARN cluster can’t allocate the resources (memory, cores) that your application is requesting. You’ll have to check and increase what YARN can allocate, free up room, or decrease the amount that your app asks for.</p> 
  <p>The relevant YARN settings are:</p> 
  <ul> 
   <li>Container Memory (<tt>yarn.nodemanager.resource.memory-mb</tt>) - the maximum memory that one YARN node has to allocate to containers</li> 
   <li>Container Virtual CPU Cores (<tt>yarn.nodemanager.resource.cpu-vcores</tt>) - same, for cores</li> 
   <li>Container Memory Maximum (<tt>yarn.scheduler.maximum-allocation-mb</tt>) - maximum memory for one container</li> 
   <li>Container Virtual CPU Cores Maximum (<tt>yarn.scheduler.maximum-allocation-vcores</tt>) - maximum cores for one container</li> 
  </ul> 
  <p>The relevant app settings are:</p> 
  <ul> 
   <li><tt>oryx.{batch,speed}.streaming.num-executors</tt> - number of executors (YARN containers) to allocate</li> 
   <li><tt>oryx.{batch,speed}.streaming.executor-cores</tt> - cores to allocate per executor</li> 
   <li><tt>oryx.{batch,speed}.streaming.executor-memory</tt> - memory to allocate per executor</li> 
  </ul> 
 </div> 
 <div class="section"> 
  <h3 id="Required_executor_memory__MB_is_above_the_max_threshold__MB_of_this_cluster">Required executor memory (… MB) is above the max threshold (… MB) of this cluster</h3> 
  <p>This means your YARN configuration limits the maximum container size that can be requested. Increase the Container Memory Maximum (<tt>yarn.scheduler.maximum-allocation-mb</tt>) to something larger. For Spark, it generally makes sense to allow large containers.</p> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#end_users" title="End Users">End Users <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li class="dropdown"><a href="#Running" title="Running">Running <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Trying_the_ALS_Example" title="Trying the ALS Example">Trying the ALS Example</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#API_Endpoint_Reference" title="API Endpoint Reference">API Endpoint Reference <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Collaborative_filtering__Recommendation" title="Collaborative filtering / Recommendation">Collaborative filtering / Recommendation</a>
		<li><a href="#Classification__Regression" title="Classification / Regression">Classification / Regression</a>
		<li><a href="#Clustering" title="Clustering">Clustering</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li><a href="#Configuration" title="Configuration">Configuration</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#developers" title="Developers">Developers <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li class="dropdown"><a href="#Building_from_Source" title="Building from Source">Building from Source <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Requirements" title="Requirements">Requirements</a>
		<li class="dropdown"><a href="#Building" title="Building">Building <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Java_8" title="Java 8">Java 8</a>
		<li><a href="#Platform_Only" title="Platform Only">Platform Only</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li><a href="#Testing" title="Testing">Testing</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li><a href="#Module_Mapping" title="Module Mapping">Module Mapping</a>
		<li class="dropdown"><a href="#Making_an_Oryx_App" title="Making an Oryx App">Making an Oryx App <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Creating_an_App" title="Creating an App">Creating an App</a>
		<li><a href="#Building_an_App" title="Building an App">Building an App</a>
		<li><a href="#Customizing_an_Oryx_App" title="Customizing an Oryx App">Customizing an Oryx App</a>
		<li><a href="#Deploying_an_App" title="Deploying an App">Deploying an App</a>
				<li class="divider"></li>
			</ul>
		</li>
			</ul>
		</li>
		<li class="dropdown"><a href="#administrators" title="Administrators">Administrators <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li class="dropdown"><a href="#Cluster_Setup" title="Cluster Setup">Cluster Setup <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Services" title="Services">Services</a>
		<li><a href="#Configuring_Kafka" title="Configuring Kafka">Configuring Kafka</a>
		<li><a href="#Automated_Configuration" title="Automated Configuration">Automated Configuration</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Handling_Failure" title="Handling Failure">Handling Failure <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Data_Loss" title="Data Loss">Data Loss</a>
		<li class="dropdown"><a href="#Server_Failure" title="Server Failure">Server Failure <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Serving_Layer" title="Serving Layer">Serving Layer</a>
		<li><a href="#Speed_Layer" title="Speed Layer">Speed Layer</a>
		<li><a href="#Batch_Layer" title="Batch Layer">Batch Layer</a>
				<li class="divider"></li>
			</ul>
		</li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Differences_from_Oryx_1" title="Differences from Oryx 1">Differences from Oryx 1 <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Architecture_Differences" title="Architecture Differences">Architecture Differences</a>
		<li><a href="#Deployment_Differences" title="Deployment Differences">Deployment Differences</a>
		<li><a href="#Scale_and_Reliability_Differences" title="Scale and Reliability Differences">Scale and Reliability Differences</a>
		<li class="dropdown"><a href="#Migration" title="Migration">Migration <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#REST_API" title="REST API">REST API</a>
		<li><a href="#Configuration" title="Configuration">Configuration</a>
		<li><a href="#Data_Storage_and_Transport" title="Data Storage and Transport">Data Storage and Transport</a>
		<li><a href="#Data_Formats" title="Data Formats">Data Formats</a>
		<li><a href="#Deployment" title="Deployment">Deployment</a>
				<li class="divider"></li>
			</ul>
		</li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Troubleshooting" title="Troubleshooting">Troubleshooting <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Unsupported_majorminor_version_510" title="Unsupported major.minor version 51.0">Unsupported major.minor version 51.0</a>
		<li><a href="#Initial_job_has_not_accepted_any_resources" title="Initial job has not accepted any resources">Initial job has not accepted any resources</a>
		<li><a href="#Required_executor_memory__MB_is_above_the_max_threshold__MB_of_this_cluster" title="Required executor memory (… MB) is above the max threshold (… MB) of this cluster">Required executor memory (… MB) is above the max threshold (… MB) of this cluster</a>
				<li class="divider"></li>
			</ul>
		</li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014-2015. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="../js/lightbox.min.js"></script>
	<script src="../js/reflow-scroll.js"></script>

	<script src="../js/reflow-skin.js"></script>

	</body>
</html>
